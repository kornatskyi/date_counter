<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div
      id="dvProductAvailability"
      class="ProductDetailsAvailability pad-0 no-pad-t"
    >
      <span id="lblAvailability" class="ProductDetailsAvailability"
        >Status:
        <span id="lblProductStatus" class="ProductDetailsAvailability"
          >Order now, we roast &amp; mail on Tue 4/20</span
        ></span
      >
      <script>
        let days = [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ];

        console.log(
          new Date().getUTCMonth() +
            " " +
            new Date().getUTCDate() +
            " " +
            new Date().getUTCDay() +
            " " +
            new Date().getUTCHours()
        );

        function convertTZ(date, tzString) {
          return new Date(
            (typeof date === "string"
              ? new Date(date)
              : date
            ).toLocaleString("en-US", { timeZone: tzString })
          );
        }

        console.log();

        let dateArr = [
          new Date(2021, 3, 18, 13),
          new Date(2021, 3, 18, 4),
          new Date(2021, 3, 19, 16),
          new Date(2021, 3, 19, 1),
          new Date(2021, 3, 20, 23),
          new Date(2021, 3, 20, 0),
          new Date(2021, 3, 21, 12),
          new Date(2021, 3, 21, 1),
          new Date(2021, 3, 22, 13),
          new Date(2021, 3, 22, 3),
          new Date(2021, 3, 23, 13),
          new Date(2021, 3, 23, 3),
          new Date(2021, 3, 24, 13),
          new Date(2021, 3, 24, 3),
          new Date(2021, 3, 25, 13),
          new Date(2021, 3, 25, 3),
        ];


        let someDate = new Date(2021, 3, 30, 6);

        function countDate2(date) {
          let absoluteHours = date.getDay() * 24 - 24 + date.getHours();

          let roastDate = new Date();
          console.log(absoluteHours);
          if (absoluteHours >= 6 && absoluteHours < 30) {
            return `Order now, we roast &amp; mail on Tue ${(() => {
              roastDate.setTime(
                new Date(someDate).getTime() + (30 - absoluteHours) * 3600000
              );
              return (roastDate.getMonth() + 1) + "/" + roastDate.getDate() ;
            })()}`;
          } else if (absoluteHours >= 30 && absoluteHours < 54) {
            return `Order now, we roast &amp; mail on Wed ${(() => {
              roastDate.setTime(
                new Date(someDate).getTime() + (54 - absoluteHours) * 3600000
              );
              return (roastDate.getMonth() + 1) + "/" + roastDate.getDate() ;
            })()}`;
          } else if (absoluteHours >= 54 && absoluteHours < 102) {
            return `Order now, we roast &amp; mail on Fri ${(() => {
              roastDate.setTime(
                new Date(someDate).getTime() + (102 - absoluteHours) * 3600000
              );
              return (roastDate.getMonth() + 1) + "/" + roastDate.getDate() ;
            })()}`;
          } else if (absoluteHours >= 102 && absoluteHours < 168) {
            return `Order now, we roast &amp; mail on Mon ${(() => {
              roastDate.setTime(
                new Date(someDate).getTime() + (168 - absoluteHours) * 3600000
              );
              return (roastDate.getMonth() + 1) + "/" + roastDate.getDate() ;
            })()}`;
          } else if (absoluteHours < 6) {
            return `Order now, we roast &amp; mail on Mon ${(() => {
              roastDate.setTime(
                new Date(someDate).getTime() + (6 - absoluteHours) * 3600000
              );
              return (roastDate.getMonth() + 1) + "/" + roastDate.getDate();
            })()}`;
          } else {
            return "somthing wrong";
          }
        }

        console.log(countDate2(someDate));

      </script>
    </div>
  </body>
</html>
